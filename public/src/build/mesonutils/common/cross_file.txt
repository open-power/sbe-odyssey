[host_machine]

system     = 'none'
cpu_family = 'ppc'
cpu        = 'ppe42'
endian     = 'big'

[constants]
cc_base_path = '/afs/awd/projects/cte/tools/ppetools/prod/bin/'
cc_tools_base_path = '/afs/awd/projects/cte/tools/ppetools/prod/powerpc-eabi/bin/'

[binaries]

powerpc-eabi-gcc = cc_base_path + 'powerpc-eabi-gcc'
objdump = cc_tools_base_path + 'objdump'
objcopy = cc_tools_base_path + 'objcopy'
ld      = cc_tools_base_path + 'ld'
ar      = cc_tools_base_path + 'ar'
as      = cc_tools_base_path + 'as'
nm      = cc_tools_base_path + 'nm'
strip   = cc_tools_base_path + 'strip'

c = '/afs/awd/projects/cte/tools/ppetools/prod/bin/powerpc-eabi-gcc'
cpp = '/afs/awd/projects/cte/tools/ppetools/prod/bin/powerpc-eabi-gcc'

[properties]

pre_processing_args = ['-E']

obj_args_cpp = [
    '-Wno-conversion-null',
    '-std=c++11',
    '-nostdinc++',
    '-fno-rtti',
    '-fno-threadsafe-statics',
    '-fno-strict-aliasing',
    ]

cc_flags_cmn = [
    '-c',
    '-MD',
    '-Wall',
    '-Werror',
    '-Wno-unused-label',
    '-msoft-float',
    '-meabi',
    '-msdata=eabi',
    '-gpubnames',
    '-gdwarf-3',
    '-ffreestanding',
    '-fno-common',
    '-fno-exceptions',
    '-fsigned-char',
    '-fno-inline-functions-called-once',
    '-mcpu=ppe42x',
    '-ffunction-sections',
    '-fdata-sections',
    '-fstack-usage',
    '-mno-ppe42x-stack',
    '-pipe',
    '-Os',
    ]

link_cmd_args = [
            '-E',
            '-x',
            'c++',
            '-P',
            ]

gcc_defs_cmn = [
        '-DSBE_TRACE_LEVEL=2',
        '-DIMAGE_NAME=SBE_TRACE',
        '-DPK_TIMER_SUPPORT=1',
        '-DPK_THREAD_SUPPORT=1',
        '-DPK_TRACE_SUPPORT=1',
        '-DPK_TRACE_HASH_PREFIX=14355',
        '-DUSE_PK_APP_CFG_H=1',
        '-D__PK__=1',
        '-D__SBE__=1',
        '-D__PPE__=1',
        '-DMINIMUM_FFDC=1',
        '-DPLAT_NO_THREAD_LOCAL_STORAGE=1',
        '-DPERIODIC_IO_TOGGLE_SUPPORTED=1',
        '-DSBE_CONSOLE_SUPPORT',
        ]

ekb_cmn_inc_path = [
    '/common/generic/ppe/include/std',
    '/common/generic/fapi2/include',
    '/common/generic/fapi2/include/plat',
    '/emb/p11/kernels/ppe/baselib',
    '/emb/p11/kernels/ppe/boltonlib',
    '/emb/p11/kernels/ppe/ppetrace',
    '/emb/p11/kernels/ppe/pk/ppe42',
    '/emb/p11/kernels/ppe/pk/kernel',
    '/emb/p11/kernels/ppe/ppetrace/ppetracepp',
    '/emb/p11/kernels/ppe/boltonlib/exppe',
        ]

ekb_hwp_inc_path = [
        ]

cmn_inc_paths = [
    '/public/src/common/hwpf',
    '/public/src/common/core',
    '/public/src/common/utils',
    '/public/src/common/algorithms',
    '/public/src/build/links',
        ]

runtime_cmn_inc_paths = [
    '/public/src/runtime/common/core',
    '/public/src/runtime/common/plat/ffdc',
    '/public/src/runtime/common/plat/targeting',
        ]
