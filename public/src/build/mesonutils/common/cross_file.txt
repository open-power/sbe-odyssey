[host_machine]

system     = 'none'
cpu_family = 'ppc'
cpu        = 'ppe42'
endian     = 'big'

[constants]
ppetools_path = '/afs/apd/projects/cte/tools/ppetools/prod'
cc_base_path = ppetools_path / 'bin'
cc_tools_base_path = ppetools_path / 'powerpc-eabi/bin'

[binaries]

powerpc-eabi-gcc = cc_base_path / 'powerpc-eabi-gcc'
objdump = cc_tools_base_path / 'objdump'
objcopy = cc_tools_base_path / 'objcopy'
ld      = cc_tools_base_path / 'ld'
ar      = cc_tools_base_path / 'ar'
as      = cc_tools_base_path / 'as'
nm      = cc_tools_base_path / 'nm'
strip   = cc_tools_base_path / 'strip'

c = cc_base_path / 'powerpc-eabi-gcc'
cpp = cc_base_path / 'powerpc-eabi-gcc'

[properties]

powerpc_eabi_gcc = cc_base_path / 'powerpc-eabi-gcc'

pre_processing_args = ['-E']

obj_args_cpp = [
    '-Wno-conversion-null',
    '-std=c++11',
    '-nostdinc++',
    '-fno-rtti',
    '-fno-threadsafe-statics',
    '-fno-strict-aliasing',
    ]

cc_flags_cmn = [
    '-c',
    '-MD',
    '-Wall',
    '-Werror',
    '-Wno-unused-label',
    '-msoft-float',
    '-meabi',
    '-msdata=eabi',
    '-gpubnames',
    '-gdwarf-3',
    '-ffreestanding',
    '-fno-common',
    '-fno-exceptions',
    '-fsigned-char',
    '-fno-inline-functions-called-once',
    '-mcpu=ppe42x',
    '-ffunction-sections',
    '-fdata-sections',
    '-fstack-usage',
    '-mno-ppe42x-stack',
    '-pipe',
    '-Os',
    ]

link_cmd_args = [
            '-E',
            '-x',
            'c++',
            '-P',
            ]

gcc_defs_cmn = [
        '-DIMAGE_NAME=SBE_TRACE',
        '-DPK_TIMER_SUPPORT=1',
        '-DPK_THREAD_SUPPORT=1',
        '-DPK_TRACE_SUPPORT=1',
        '-DPK_TRACE_HASH_PREFIX=14355',
        '-DUSE_PK_APP_CFG_H=1',
        '-D__PK__=1',
        '-D__SBE__=1',
        '-D__PPE__=1',
        '-DMINIMUM_FFDC=1',
        '-DPLAT_NO_THREAD_LOCAL_STORAGE=1',
        '-DAPP_DEFINED_TRACE_BUFFER=1',
        ]

gcc_defs_cmn_sbe = [
        '-DSBE_TRACE_LEVEL=2',
        '-DPERIODIC_IO_TOGGLE_SUPPORTED=1',
        '-DSBE_CONSOLE_SUPPORT',
        '-DSCOMT_OMIT_FIELD_ACCESSORS',
        ]

gcc_defs_cmn_hwp = [
        '-DFAPI_TRACE_LEVEL=3',
        '-DSBE_TRACE_LEVEL=2',
        ]

ekb_cmn_inc_path = [
    '/common/generic/ppe/include/std',
    '/common/generic/fapi2/include',
    '/common/generic/fapi2/include/plat',
    '/common/odyssey/fapi2/include',
    '/common/utils/imageProcs',
    '/emb/p11/kernels/ppe/baselib',
    '/emb/p11/kernels/ppe/boltonlib',
    '/emb/p11/kernels/ppe/ppetrace',
    '/emb/p11/kernels/ppe/pk/ppe42',
    '/emb/p11/kernels/ppe/pk/kernel',
    '/emb/p11/kernels/ppe/ppetrace/ppetracepp',
    '/emb/p11/kernels/ppe/boltonlib/standard',
    '/common/generic/registers',
    '/ring/generic',
    '/hwp/generic/ffdc'
        ]

ekb_hwp_inc_path = [
    '/hwp/generic/perv',
    '/common/generic/scomt',
        ]

cmn_inc_paths = [
    '/public/src/common/hwpf',
    '/public/src/common/core',
    '/public/src/common/utils',
    '/public/src/common/algorithms/sha3',
    '/public/src/common/algorithms/ecdsa',
    '/public/src/common/algorithms/dilithium',
    '/public/src/build/links',
    '/public/src/common/pakwrapper',
    '/genfiles/common',
        ]

runtime_cmn_inc_paths = [
    '/public/src/runtime/common/core',
    '/public/src/runtime/common/plat/ffdc',
    '/public/src/runtime/common/plat/targeting',
    '/public/src/runtime/common/plat/attributes',
    '/public/src/runtime/common/plat',
    '/public/src/runtime/common/utils',
    '/public/src/runtime/common/hwpf',
    '/public/src/runtime/common/chipops/stopclocks',
    '/public/src/runtime/common/chipops/tracearray',
        ]

runtime_cmn_code_update_inc_paths = [
    '/public/src/runtime/common/codeupdate',
    ]

onetime_cmn_inc_paths = [
    '/public/src/onetime/common/srom/init',
    '/public/src/onetime/common/srom/core',
        ]
